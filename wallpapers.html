<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>Wallpapers - Ambiente Espiritual</title>
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#F5F2E9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Ambiente Espiritual">
  <link rel="stylesheet" href="./design-tokens.css">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
  <style>
    .wallpaper-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--spacing-md); }
    @media (min-width: 768px) {
      .wallpaper-grid { grid-template-columns: repeat(3, 1fr); }
    }
    .wallpaper-card { position: relative; overflow: hidden; border-radius: var(--radius-lg); aspect-ratio: 9/16; background: var(--c-azul-marinho); box-shadow: var(--shadow-md); transition: all var(--transition-base); }
    .wallpaper-card:hover { box-shadow: var(--shadow-lg); transform: translateY(-4px); }
    .wallpaper-card img { width: 100%; height: 100%; object-fit: cover; }
    .verse-card { padding: var(--spacing-md); background: linear-gradient(135deg, rgba(200,176,138,0.1) 0%, rgba(238,191,184,0.05) 100%); border: 1px solid rgba(200,176,138,0.3); border-radius: var(--radius-lg); margin-bottom: var(--spacing-md); }
    .verse-text { font-style: italic; color: var(--c-azul-marinho); margin-bottom: var(--spacing-sm); }
  </style>
</head>
<body>
  <main class="app-container">
    <!-- Header -->
    <div class="mb-xl">
      <p class="text-apoio">Inspira√ß√£o visual e espiritual para cada dia</p>
    </div>

    <!-- Galeria de Wallpapers -->
    <div class="card-elohim">
      <h3>Galeria de Wallpapers</h3>
      <p class="text-apoio" style="margin-bottom: var(--spacing-lg);">Imagens para colocar como fundo da tela do seu celular, tablet ou computador.</p>
      
      <div class="wallpaper-grid">
        <!-- Wallpaper 1 -->
        <div class="wallpaper-card">
          <svg viewBox="0 0 200 300" style="width: 100%; height: 100%;">
            <rect width="200" height="300" fill="#1A2238"/>
            <circle cx="100" cy="80" r="40" fill="#C8B08A" opacity="0.8"/>
            <text x="100" y="200" text-anchor="middle" fill="#F5F2E9" font-size="16" font-family="serif">Canto Sagrado</text>
          </svg>
          <button class="btn btn-small btn-primario" style="position: absolute; bottom: var(--spacing-md); left: var(--spacing-md); right: var(--spacing-md);" onclick="downloadWallpaper('wallpaper1')">
            <span class="material-symbols-outlined">download</span> Download
          </button>
        </div>

        <!-- Wallpaper 2 -->
        <div class="wallpaper-card">
          <svg viewBox="0 0 200 300" style="width: 100%; height: 100%;">
            <rect width="200" height="300" fill="#F5F2E9"/>
            <circle cx="100" cy="100" r="50" fill="#1A2238" opacity="0.3"/>
            <text x="100" y="200" text-anchor="middle" fill="#1A2238" font-size="14" font-family="serif">Rotina que Liberta</text>
          </svg>
          <button class="btn btn-small btn-primario" style="position: absolute; bottom: var(--spacing-md); left: var(--spacing-md); right: var(--spacing-md);" onclick="downloadWallpaper('wallpaper2')">
            <span class="material-symbols-outlined">download</span>Download
          </button>
        </div>

        <!-- Wallpaper 3 -->
        <div class="wallpaper-card">
          <svg viewBox="0 0 200 300" style="width: 100%; height: 100%;">
            <defs><linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#EEBFB8"/><stop offset="100%" style="stop-color:#C8B08A"/></linearGradient></defs>
            <rect width="200" height="300" fill="url(#grad)"/>
            <text x="100" y="150" text-anchor="middle" fill="#1A2238" font-size="14" font-family="serif">Celular a Favor</text>
          </svg>
          <button class="btn btn-small btn-primario" style="position: absolute; bottom: var(--spacing-md); left: var(--spacing-md); right: var(--spacing-md);" onclick="downloadWallpaper('wallpaper3')">
            <span class="material-symbols-outlined">download</span> Download
          </button>
        </div>
      </div>
    </div>

    <!-- Vers√≠culos -->
    <div class="card-elohim">
      <h3>Frases e Vers√≠culos</h3>
      <p class="text-apoio" style="margin-bottom: var(--spacing-lg);">Palavras de inspira√ß√£o para compartilhar e refletir.</p>

      <!-- Se√ß√£o 1 -->
      <h4 style="color: var(--c-azul-marinho); margin: var(--spacing-lg) 0 var(--spacing-md) 0;">Foco no Recome√ßo</h4>
      <div class="verse-card">
        <p class="verse-text">"Voltai para mim, e eu vos salvarei."</p>
        <p style="font-size: 0.875rem; color: var(--c-texto-apoio); margin: 0;">Joel 2:12</p>
        <button class="btn btn-small btn-primario" style="width: 100%; margin-top: var(--spacing-sm);" onclick="copyToClipboard('Voltai para mim, e eu vos salvarei. - Joel 2:12')">
          <span class="material-symbols-outlined">content_copy</span> Copiar
        </button>
      </div>

      <div class="verse-card">
        <p class="verse-text">"As miseric√≥rdias do Senhor s√£o novas cada manh√£."</p>
        <p style="font-size: 0.875rem; color: var(--c-texto-apoio); margin: 0;">Lamenta√ß√µes 3:23</p>
        <button class="btn btn-small btn-primario" style="width: 100%; margin-top: var(--spacing-sm);" onclick="copyToClipboard('As miseric√≥rdias do Senhor s√£o novas cada manh√£. - Lamenta√ß√µes 3:23')">
          <span class="material-symbols-outlined">content_copy</span> Copiar
        </button>
      </div>

      <!-- Se√ß√£o 2 -->
      <h4 style="color: var(--c-azul-marinho); margin: var(--spacing-lg) 0 var(--spacing-md) 0;">Foco nos Pilares</h4>
      <div class="verse-card">
        <p class="verse-text">"Nem s√≥ de p√£o viver√° o homem, mas de toda palavra que procede da boca de Deus."</p>
        <p style="font-size: 0.875rem; color: var(--c-texto-apoio); margin: 0;">Mateus 4:4</p>
        <button class="btn btn-small btn-primario" style="width: 100%; margin-top: var(--spacing-sm);" onclick="copyToClipboard('Nem s√≥ de p√£o viver√° o homem, mas de toda palavra que procede da boca de Deus. - Mateus 4:4')">
          <span class="material-symbols-outlined">content_copy</span> Copiar
        </button>
      </div>

      <div class="verse-card">
        <p class="verse-text">"Bem-aventurados os puros de cora√ß√£o, porque ver√£o a Deus."</p>
        <p style="font-size: 0.875rem; color: var(--c-texto-apoio); margin: 0;">Mateus 5:8</p>
        <button class="btn btn-small btn-primario" style="width: 100%; margin-top: var(--spacing-sm);" onclick="copyToClipboard('Bem-aventurados os puros de cora√ß√£o, porque ver√£o a Deus. - Mateus 5:8')">
          <span class="material-symbols-outlined">content_copy</span> Copiar
        </button>
      </div>

      <!-- Se√ß√£o 3 -->
      <h4 style="color: var(--c-azul-marinho); margin: var(--spacing-lg) 0 var(--spacing-md) 0;">Foco na Atitude Interior</h4>
      <div class="verse-card">
        <p class="verse-text">"Cria em mim, √≥ Deus, um cora√ß√£o puro e renova em mim um esp√≠rito reto."</p>
        <p style="font-size: 0.875rem; color: var(--c-texto-apoio); margin: 0;">Salmos 51:10</p>
        <button class="btn btn-small btn-primario" style="width: 100%; margin-top: var(--spacing-sm);" onclick="copyToClipboard('Cria em mim, √≥ Deus, um cora√ß√£o puro e renova em mim um esp√≠rito reto. - Salmos 51:10')">
          <span class="material-symbols-outlined">content_copy</span> Copiar
        </button>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation Bar -->
  <nav class="bottom-bar">
    <button class="btn btn-secundario" onclick="window.location='./checklist.html'">
      <span class="material-symbols-outlined">arrow_back</span> Anterior
    </button>
    <button class="btn btn-primario" onclick="window.location='./index.html'">
      <span class="material-symbols-outlined">home</span> Capa
    </button>
  </nav>

  <script>
    // üßπ LIMPEZA AGRESSIVA v4 ao carregar
    (async function aggressiveClearup() {
      try {
        const cacheNames = await caches.keys();
        for (const name of cacheNames) {
          if (name !== 'ambiente-espiritual-v4') {
            await caches.delete(name);
          }
        }
      } catch (error) {
        console.error('Erro ao limpar cache:', error);
      }
    })();

    function copyToClipboard(text) {
      if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => {
          alert('‚úì Vers√≠culo copiado!');
        }).catch(() => fallbackCopy(text));
      } else {
        fallbackCopy(text);
      }
    }

    function fallbackCopy(text) {
      const textarea = document.createElement('textarea');
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      alert('‚úì Vers√≠culo copiado!');
    }

    function downloadWallpaper(id) {
      alert('Download de ' + id + ' iniciado!');
    }

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js');
    }
  </script>
</body>
</html>